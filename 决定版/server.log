[2025-08-22 10:48:45,112] [INFO] ✅ 信号处理器设置完成
[2025-08-22 10:48:45,112] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 10:48:45,112] [INFO] 🔍 开始验证运行环境...
[2025-08-22 10:48:45,113] [INFO] ✅ 运行环境验证通过
[2025-08-22 10:48:45,113] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 10:48:45,113] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 10:48:45,120] [INFO] server listening on [::1]:8765
[2025-08-22 10:48:45,120] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 10:48:45,120] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 10:48:45,120] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 10:48:45,120] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 10:48:45,120] [INFO] 🔄 等待客户端连接...
[2025-08-22 10:49:08,553] [INFO] connection open
[2025-08-22 10:49:08,553] [ERROR] connection handler failed
Traceback (most recent call last):
  File "/Users/brookz/.pyenv/versions/3.10.14/lib/python3.10/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
TypeError: WebRTCServer.handle_client() missing 1 required positional argument: 'path'
[2025-08-22 10:49:14,661] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 10:49:14,661] [INFO] 🛑 正在关闭服务器...
[2025-08-22 10:49:14,661] [INFO] ✅ 服务器已关闭
[2025-08-22 10:49:14,661] [INFO] server closing
[2025-08-22 10:49:14,662] [INFO] server closed
[2025-08-22 10:49:14,662] [INFO] 🛑 服务器运行被取消
[2025-08-22 10:49:14,662] [INFO] ✅ 服务器运行完成
[2025-08-22 10:50:51,719] [INFO] ✅ 信号处理器设置完成
[2025-08-22 10:50:51,720] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 10:50:51,720] [INFO] 🔍 开始验证运行环境...
[2025-08-22 10:50:51,721] [INFO] ✅ 运行环境验证通过
[2025-08-22 10:50:51,721] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 10:50:51,721] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 10:50:51,729] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 10:50:51,729] [INFO] server listening on [::1]:8765
[2025-08-22 10:50:51,729] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 10:50:51,729] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 10:50:51,729] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 10:50:51,729] [INFO] 🔄 等待客户端连接...
[2025-08-22 10:50:56,921] [INFO] connection open
[2025-08-22 10:50:56,922] [ERROR] connection handler failed
Traceback (most recent call last):
  File "/Users/brookz/.pyenv/versions/3.10.14/lib/python3.10/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
TypeError: WebRTCServer.handle_client() missing 1 required positional argument: 'path'
[2025-08-22 10:51:01,395] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 10:51:01,396] [INFO] 🛑 正在关闭服务器...
[2025-08-22 10:51:01,396] [INFO] ✅ 服务器已关闭
[2025-08-22 10:51:01,397] [INFO] server closing
[2025-08-22 10:51:01,397] [INFO] server closed
[2025-08-22 10:51:01,397] [INFO] 🛑 服务器运行被取消
[2025-08-22 10:51:01,397] [INFO] ✅ 服务器运行完成
[2025-08-22 10:51:48,102] [INFO] ✅ 信号处理器设置完成
[2025-08-22 10:51:48,103] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 10:51:48,103] [INFO] 🔍 开始验证运行环境...
[2025-08-22 10:51:48,104] [INFO] ✅ 运行环境验证通过
[2025-08-22 10:51:48,104] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 10:51:48,104] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 10:51:48,113] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 10:51:48,113] [INFO] server listening on [::1]:8765
[2025-08-22 10:51:48,113] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 10:51:48,113] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 10:51:48,113] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 10:51:48,113] [INFO] 🔄 等待客户端连接...
[2025-08-22 10:52:30,135] [INFO] connection open
[2025-08-22 10:52:30,136] [ERROR] connection handler failed
Traceback (most recent call last):
  File "/Users/brookz/.pyenv/versions/3.10.14/lib/python3.10/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
TypeError: WebRTCServer.handle_client() missing 1 required positional argument: 'path'
[2025-08-22 10:52:34,966] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 10:52:34,966] [INFO] 🛑 正在关闭服务器...
[2025-08-22 10:52:34,966] [INFO] ✅ 服务器已关闭
[2025-08-22 10:52:34,967] [INFO] server closing
[2025-08-22 10:52:34,967] [INFO] server closed
[2025-08-22 10:52:34,967] [INFO] 🛑 服务器运行被取消
[2025-08-22 10:52:34,967] [INFO] ✅ 服务器运行完成
[2025-08-22 10:53:14,854] [INFO] ✅ 信号处理器设置完成
[2025-08-22 10:53:14,854] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 10:53:14,854] [INFO] 🔍 开始验证运行环境...
[2025-08-22 10:53:14,855] [INFO] ✅ 运行环境验证通过
[2025-08-22 10:53:14,855] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 10:53:14,855] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 10:53:14,863] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 10:53:14,863] [INFO] server listening on [::1]:8765
[2025-08-22 10:53:14,863] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 10:53:14,863] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 10:53:14,863] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 10:53:14,863] [INFO] 🔄 等待客户端连接...
[2025-08-22 10:53:38,647] [INFO] 🛑 收到信号: SIGTERM
[2025-08-22 10:53:38,648] [INFO] 🛑 正在关闭服务器...
[2025-08-22 10:53:38,648] [INFO] ✅ 服务器已关闭
[2025-08-22 10:53:38,650] [INFO] server closing
[2025-08-22 10:53:38,651] [INFO] server closed
[2025-08-22 10:53:38,653] [INFO] 🛑 服务器运行被取消
[2025-08-22 10:53:38,653] [INFO] ✅ 服务器运行完成
[2025-08-22 10:53:48,465] [INFO] ✅ 信号处理器设置完成
[2025-08-22 10:53:48,465] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 10:53:48,465] [INFO] 🔍 开始验证运行环境...
[2025-08-22 10:53:48,466] [INFO] ✅ 运行环境验证通过
[2025-08-22 10:53:48,466] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 10:53:48,466] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 10:53:48,472] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 10:53:48,472] [INFO] server listening on [::1]:8765
[2025-08-22 10:53:48,472] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 10:53:48,472] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 10:53:48,472] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 10:53:48,472] [INFO] 🔄 等待客户端连接...
[2025-08-22 10:54:09,390] [INFO] connection open
[2025-08-22 10:54:09,390] [ERROR] connection handler failed
Traceback (most recent call last):
  File "/Users/brookz/.pyenv/versions/3.10.14/lib/python3.10/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
TypeError: WebRTCServer.handle_client() missing 1 required positional argument: 'path'
[2025-08-22 10:54:12,345] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 10:54:12,345] [INFO] 🛑 正在关闭服务器...
[2025-08-22 10:54:12,345] [INFO] ✅ 服务器已关闭
[2025-08-22 10:54:12,345] [INFO] server closing
[2025-08-22 10:54:12,346] [INFO] server closed
[2025-08-22 10:54:12,346] [INFO] 🛑 服务器运行被取消
[2025-08-22 10:54:12,346] [INFO] ✅ 服务器运行完成
[2025-08-22 10:54:50,914] [INFO] ✅ 信号处理器设置完成
[2025-08-22 10:54:50,914] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 10:54:50,914] [INFO] 🔍 开始验证运行环境...
[2025-08-22 10:54:50,915] [INFO] ✅ 运行环境验证通过
[2025-08-22 10:54:50,915] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 10:54:50,915] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 10:54:50,921] [INFO] server listening on [::1]:8765
[2025-08-22 10:54:50,921] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 10:54:50,921] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 10:54:50,921] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 10:54:50,921] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 10:54:50,921] [INFO] 🔄 等待客户端连接...
[2025-08-22 10:54:56,895] [INFO] connection open
[2025-08-22 10:54:56,895] [ERROR] connection handler failed
Traceback (most recent call last):
  File "/Users/brookz/.pyenv/versions/3.10.14/lib/python3.10/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
TypeError: WebRTCServer.handle_client() missing 1 required positional argument: 'path'
[2025-08-22 10:55:06,050] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 10:55:06,050] [INFO] 🛑 正在关闭服务器...
[2025-08-22 10:55:06,051] [INFO] ✅ 服务器已关闭
[2025-08-22 10:55:06,051] [INFO] server closing
[2025-08-22 10:55:06,051] [INFO] server closed
[2025-08-22 10:55:06,051] [INFO] 🛑 服务器运行被取消
[2025-08-22 10:55:06,051] [INFO] ✅ 服务器运行完成
[2025-08-22 10:56:10,904] [INFO] ✅ 信号处理器设置完成
[2025-08-22 10:56:10,904] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 10:56:10,904] [INFO] 🔍 开始验证运行环境...
[2025-08-22 10:56:10,905] [INFO] ✅ 运行环境验证通过
[2025-08-22 10:56:10,905] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 10:56:10,905] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 10:56:10,912] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 10:56:10,912] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 10:56:10,912] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 10:56:10,912] [INFO] 🔄 等待客户端连接...
[2025-08-22 10:56:10,913] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 10:56:10,913] [INFO] server listening on [::1]:8765
[2025-08-22 10:56:32,651] [INFO] connection open
[2025-08-22 10:56:32,651] [ERROR] connection handler failed
Traceback (most recent call last):
  File "/Users/brookz/.pyenv/versions/3.10.14/lib/python3.10/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
TypeError: WebRTCServer.handle_client() missing 1 required positional argument: 'path'
[2025-08-22 10:56:36,075] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 10:56:36,076] [INFO] 🛑 正在关闭服务器...
[2025-08-22 10:56:36,076] [INFO] ✅ 服务器已关闭
[2025-08-22 10:56:36,076] [INFO] 🛑 服务器运行被取消
[2025-08-22 10:56:36,076] [INFO] ✅ 服务器运行完成
[2025-08-22 10:56:53,495] [INFO] ✅ 信号处理器设置完成
[2025-08-22 10:56:53,495] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 10:56:53,495] [INFO] 🔍 开始验证运行环境...
[2025-08-22 10:56:53,497] [INFO] ✅ 运行环境验证通过
[2025-08-22 10:56:53,497] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 10:56:53,497] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 10:56:53,505] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 10:56:53,505] [INFO] server listening on [::1]:8765
[2025-08-22 10:56:53,505] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 10:56:53,505] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 10:56:53,506] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 10:56:53,506] [INFO] 🔄 等待客户端连接...
[2025-08-22 10:57:01,332] [INFO] connection open
[2025-08-22 10:57:01,333] [ERROR] connection handler failed
Traceback (most recent call last):
  File "/Users/brookz/.pyenv/versions/3.10.14/lib/python3.10/site-packages/websockets/asyncio/server.py", line 376, in conn_handler
    await self.handler(connection)
TypeError: WebRTCServer.handle_client() missing 1 required positional argument: 'path'
[2025-08-22 10:57:05,470] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 10:57:05,470] [INFO] 🛑 正在关闭服务器...
[2025-08-22 10:57:05,470] [INFO] ✅ 服务器已关闭
[2025-08-22 10:57:05,471] [INFO] 🛑 服务器运行被取消
[2025-08-22 10:57:05,471] [INFO] ✅ 服务器运行完成
[2025-08-22 10:57:23,358] [INFO] ✅ 信号处理器设置完成
[2025-08-22 10:57:23,358] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 10:57:23,358] [INFO] 🔍 开始验证运行环境...
[2025-08-22 10:57:23,359] [INFO] ✅ 运行环境验证通过
[2025-08-22 10:57:23,359] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 10:57:23,360] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 10:57:23,368] [INFO] server listening on [::1]:8765
[2025-08-22 10:57:23,368] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 10:57:23,368] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 10:57:23,368] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 10:57:23,368] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 10:57:23,368] [INFO] 🔄 等待客户端连接...
[2025-08-22 10:57:27,171] [INFO] connection open
[2025-08-22 10:57:27,172] [INFO] 🔌 新客户端连接: f09fedbd-fba5-4f5f-a56e-d673b8247159
[2025-08-22 10:57:35,560] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 10:57:35,561] [INFO] 🎯 开始ASR语音识别
[2025-08-22 10:57:35,561] [INFO] 📊 处理音频数据: 客户端 f09fedbd-fba5-4f5f-a56e-d673b8247159, 20 块, 40960 字节
[2025-08-22 10:57:35,562] [INFO] 🔍 开始语音识别处理
[2025-08-22 10:57:35,562] [INFO] 🔑 正在获取百度ASR访问令牌...
[2025-08-22 10:57:35,644] [INFO] ✅ 已成功获取ASR访问令牌
[2025-08-22 10:57:35,645] [INFO] 📤 发送ASR识别请求: 40960 字节
[2025-08-22 10:57:35,988] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 10:57:35,988] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 10:57:35,988] [INFO] ✅ ASR识别成功: 你可以听到我说话吗？
[2025-08-22 10:57:35,989] [INFO] 🤖 处理LLM对话: 你可以听到我说话吗？
[2025-08-22 10:57:35,989] [INFO] 🤖 处理用户问题: 你可以听到我说话吗？...
[2025-08-22 10:57:36,380] [INFO] ✅ LLM回复生成成功: 是的，我正在听您说话。...
[2025-08-22 10:57:36,380] [INFO] 🔊 开始生成TTS音频: 是的，我正在听您说话。
[2025-08-22 10:57:36,381] [INFO] 🔊 开始TTS语音合成: 是的，我正在听您说话。...
[2025-08-22 10:57:36,381] [INFO] 🔑 正在获取百度TTS访问令牌...
[2025-08-22 10:57:36,431] [INFO] ✅ 已成功获取TTS访问令牌
[2025-08-22 10:57:36,431] [INFO] 📤 发送TTS合成请求: 11 字符
[2025-08-22 10:57:36,656] [INFO] ✅ TTS合成成功: 91884 字节
[2025-08-22 10:57:36,661] [INFO] ✅ TTS音频生成完成: 91884 字节
[2025-08-22 10:57:42,472] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 10:57:42,473] [INFO] 🎯 开始ASR语音识别
[2025-08-22 10:57:42,473] [INFO] 📊 处理音频数据: 客户端 f09fedbd-fba5-4f5f-a56e-d673b8247159, 25 块, 51200 字节
[2025-08-22 10:57:42,473] [INFO] 🔍 开始语音识别处理
[2025-08-22 10:57:42,473] [INFO] 📤 发送ASR识别请求: 51200 字节
[2025-08-22 10:57:42,724] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 10:57:42,724] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 10:57:42,724] [INFO] ✅ ASR识别成功: 你给我讲讲天气预报。
[2025-08-22 10:57:42,725] [INFO] 🤖 处理LLM对话: 你给我讲讲天气预报。
[2025-08-22 10:57:42,725] [INFO] 🤖 处理用户问题: 你给我讲讲天气预报。...
[2025-08-22 10:57:43,111] [INFO] ✅ LLM回复生成成功: 请告诉我您所在的城市或地区，以便我为您提供准确的天气预报。...
[2025-08-22 10:57:43,113] [INFO] 🔊 开始生成TTS音频: 请告诉我您所在的城市或地区，以便我为您提供准确的天气预报。
[2025-08-22 10:57:43,113] [INFO] 🔊 开始TTS语音合成: 请告诉我您所在的城市或地区，以便我为您提供准确的天气预报。...
[2025-08-22 10:57:43,113] [INFO] 📤 发送TTS合成请求: 29 字符
[2025-08-22 10:57:43,400] [INFO] ✅ TTS合成成功: 222444 字节
[2025-08-22 10:57:43,416] [INFO] ✅ TTS音频生成完成: 222444 字节
[2025-08-22 10:57:53,543] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 10:57:53,544] [INFO] 🎯 开始ASR语音识别
[2025-08-22 10:57:53,544] [INFO] 📊 处理音频数据: 客户端 f09fedbd-fba5-4f5f-a56e-d673b8247159, 31 块, 63488 字节
[2025-08-22 10:57:53,544] [INFO] 🔍 开始语音识别处理
[2025-08-22 10:57:53,545] [INFO] 📤 发送ASR识别请求: 63488 字节
[2025-08-22 10:57:53,963] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 10:57:53,963] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 10:57:53,963] [INFO] ✅ ASR识别成功: 你给我讲讲国际局势。
[2025-08-22 10:57:53,964] [INFO] 🤖 处理LLM对话: 你给我讲讲国际局势。
[2025-08-22 10:57:53,964] [INFO] 🤖 处理用户问题: 你给我讲讲国际局势。...
[2025-08-22 10:57:54,575] [INFO] ✅ LLM回复生成成功: 抱歉，我无法提供实时国际局势分析。建议查阅最新新闻报道或专业分析。...
[2025-08-22 10:57:54,575] [INFO] 🔊 开始生成TTS音频: 抱歉，我无法提供实时国际局势分析。建议查阅最新新闻报道或专业分析。
[2025-08-22 10:57:54,576] [INFO] 🔊 开始TTS语音合成: 抱歉，我无法提供实时国际局势分析。建议查阅最新新闻报道或专业分析。...
[2025-08-22 10:57:54,576] [INFO] 📤 发送TTS合成请求: 33 字符
[2025-08-22 10:57:54,918] [INFO] ✅ TTS合成成功: 274604 字节
[2025-08-22 10:57:54,937] [INFO] ✅ TTS音频生成完成: 274604 字节
[2025-08-22 10:57:56,638] [INFO] 📝 收到文本消息: interrupt_tts
[2025-08-22 10:57:56,639] [INFO] 🛑 收到客户端 f09fedbd-fba5-4f5f-a56e-d673b8247159 的TTS打断请求
[2025-08-22 10:57:56,639] [INFO] 🗑️ 已清空客户端 f09fedbd-fba5-4f5f-a56e-d673b8247159 的音频缓冲区 (0 块)
[2025-08-22 10:57:56,639] [INFO] ✅ 客户端 f09fedbd-fba5-4f5f-a56e-d673b8247159 的TTS打断处理完成
[2025-08-22 10:57:58,855] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 10:57:58,855] [INFO] 🎯 开始ASR语音识别
[2025-08-22 10:57:58,856] [INFO] 📊 处理音频数据: 客户端 f09fedbd-fba5-4f5f-a56e-d673b8247159, 20 块, 40960 字节
[2025-08-22 10:57:58,856] [INFO] 🔍 开始语音识别处理
[2025-08-22 10:57:58,856] [INFO] 📤 发送ASR识别请求: 40960 字节
[2025-08-22 10:57:59,277] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 10:57:59,277] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 10:57:59,277] [INFO] ✅ ASR识别成功: 我可以打断你吗？
[2025-08-22 10:57:59,278] [INFO] 🤖 处理LLM对话: 我可以打断你吗？
[2025-08-22 10:57:59,278] [INFO] 🤖 处理用户问题: 我可以打断你吗？...
[2025-08-22 10:57:59,597] [INFO] ✅ LLM回复生成成功: 当然可以，请说。...
[2025-08-22 10:57:59,597] [INFO] 🔊 开始生成TTS音频: 当然可以，请说。
[2025-08-22 10:57:59,597] [INFO] 🔊 开始TTS语音合成: 当然可以，请说。...
[2025-08-22 10:57:59,597] [INFO] 📤 发送TTS合成请求: 8 字符
[2025-08-22 10:57:59,792] [INFO] ✅ TTS合成成功: 73324 字节
[2025-08-22 10:57:59,797] [INFO] ✅ TTS音频生成完成: 73324 字节
[2025-08-22 10:58:01,650] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 10:58:01,650] [INFO] 🛑 正在关闭服务器...
[2025-08-22 10:58:01,650] [INFO] ✅ 服务器已关闭
[2025-08-22 10:58:01,651] [INFO] 🧹 已清理客户端 f09fedbd-fba5-4f5f-a56e-d673b8247159 的所有音频处理资源
[2025-08-22 10:58:01,651] [INFO] 🗑️ 已清除客户端 f09fedbd-fba5-4f5f-a56e-d673b8247159 的对话历史 (8 条)
[2025-08-22 10:58:01,651] [INFO] 🧹 客户端 f09fedbd-fba5-4f5f-a56e-d673b8247159 资源清理完成
[2025-08-22 10:58:01,651] [INFO] 🛑 服务器运行被取消
[2025-08-22 10:58:01,651] [INFO] ✅ 服务器运行完成
[2025-08-22 10:59:20,601] [INFO] ✅ 信号处理器设置完成
[2025-08-22 10:59:20,601] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 10:59:20,601] [INFO] 🔍 开始验证运行环境...
[2025-08-22 10:59:20,602] [INFO] ✅ 运行环境验证通过
[2025-08-22 10:59:20,602] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 10:59:20,602] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 10:59:20,610] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 10:59:20,610] [INFO] server listening on [::1]:8765
[2025-08-22 10:59:20,610] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 10:59:20,610] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 10:59:20,610] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 10:59:20,610] [INFO] 🔄 等待客户端连接...
[2025-08-22 10:59:30,563] [INFO] connection open
[2025-08-22 10:59:30,563] [INFO] 🔌 新客户端连接: 5dc7e446-07a9-4092-b02a-5749305b2dcd
[2025-08-22 10:59:36,789] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 10:59:36,789] [INFO] 🎯 开始ASR语音识别
[2025-08-22 10:59:36,790] [INFO] 📊 处理音频数据: 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd, 21 块, 43008 字节
[2025-08-22 10:59:36,793] [INFO] 🔍 开始语音识别处理
[2025-08-22 10:59:36,793] [INFO] 🔑 正在获取百度ASR访问令牌...
[2025-08-22 10:59:37,203] [INFO] ✅ 已成功获取ASR访问令牌
[2025-08-22 10:59:37,204] [INFO] 📤 发送ASR识别请求: 43008 字节
[2025-08-22 10:59:37,539] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 10:59:37,539] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 10:59:37,539] [INFO] ✅ ASR识别成功: 你可以听到我说话吗？
[2025-08-22 10:59:37,540] [INFO] 🤖 处理LLM对话: 你可以听到我说话吗？
[2025-08-22 10:59:37,540] [INFO] 🤖 处理用户问题: 你可以听到我说话吗？...
[2025-08-22 10:59:37,850] [INFO] ✅ LLM回复生成成功: 是的，我可以听到您说话。...
[2025-08-22 10:59:37,851] [INFO] 🔊 开始生成TTS音频: 是的，我可以听到您说话。
[2025-08-22 10:59:37,852] [INFO] 🔊 开始TTS语音合成: 是的，我可以听到您说话。...
[2025-08-22 10:59:37,852] [INFO] 🔑 正在获取百度TTS访问令牌...
[2025-08-22 10:59:37,918] [INFO] ✅ 已成功获取TTS访问令牌
[2025-08-22 10:59:37,919] [INFO] 📤 发送TTS合成请求: 12 字符
[2025-08-22 10:59:38,229] [INFO] ✅ TTS合成成功: 96364 字节
[2025-08-22 10:59:38,238] [INFO] ✅ TTS音频生成完成: 96364 字节
[2025-08-22 10:59:44,277] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 10:59:44,277] [INFO] 🎯 开始ASR语音识别
[2025-08-22 10:59:44,277] [INFO] 📊 处理音频数据: 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd, 25 块, 51200 字节
[2025-08-22 10:59:44,278] [INFO] 🔍 开始语音识别处理
[2025-08-22 10:59:44,278] [INFO] 📤 发送ASR识别请求: 51200 字节
[2025-08-22 10:59:44,685] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 10:59:44,685] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 10:59:44,685] [INFO] ✅ ASR识别成功: 你给我讲讲天气预报。
[2025-08-22 10:59:44,686] [INFO] 🤖 处理LLM对话: 你给我讲讲天气预报。
[2025-08-22 10:59:44,687] [INFO] 🤖 处理用户问题: 你给我讲讲天气预报。...
[2025-08-22 10:59:45,162] [INFO] ✅ LLM回复生成成功: 请提供您所在地区的名称或城市，以便我为您提供准确的天气预报。...
[2025-08-22 10:59:45,163] [INFO] 🔊 开始生成TTS音频: 请提供您所在地区的名称或城市，以便我为您提供准确的天气预报。
[2025-08-22 10:59:45,163] [INFO] 🔊 开始TTS语音合成: 请提供您所在地区的名称或城市，以便我为您提供准确的天气预报。...
[2025-08-22 10:59:45,164] [INFO] 📤 发送TTS合成请求: 30 字符
[2025-08-22 10:59:45,437] [INFO] ✅ TTS合成成功: 230124 字节
[2025-08-22 10:59:45,455] [INFO] ✅ TTS音频生成完成: 230124 字节
[2025-08-22 10:59:47,563] [INFO] 📝 收到文本消息: interrupt_tts
[2025-08-22 10:59:47,564] [INFO] 🛑 收到客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的TTS打断请求
[2025-08-22 10:59:47,564] [INFO] 🗑️ 已清空客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的音频缓冲区 (0 块)
[2025-08-22 10:59:47,564] [INFO] ✅ 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的TTS打断处理完成
[2025-08-22 10:59:49,780] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 10:59:49,780] [INFO] 🎯 开始ASR语音识别
[2025-08-22 10:59:49,781] [INFO] 📊 处理音频数据: 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd, 20 块, 40960 字节
[2025-08-22 10:59:49,781] [INFO] 🔍 开始语音识别处理
[2025-08-22 10:59:49,781] [INFO] 📤 发送ASR识别请求: 40960 字节
[2025-08-22 10:59:50,185] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 10:59:50,186] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 10:59:50,186] [INFO] ✅ ASR识别成功: 我可以打断你吗？
[2025-08-22 10:59:50,187] [INFO] 🤖 处理LLM对话: 我可以打断你吗？
[2025-08-22 10:59:50,187] [INFO] 🤖 处理用户问题: 我可以打断你吗？...
[2025-08-22 10:59:50,497] [INFO] ✅ LLM回复生成成功: 当然可以，请说。...
[2025-08-22 10:59:50,499] [INFO] 🔊 开始生成TTS音频: 当然可以，请说。
[2025-08-22 10:59:50,499] [INFO] 🔊 开始TTS语音合成: 当然可以，请说。...
[2025-08-22 10:59:50,499] [INFO] 📤 发送TTS合成请求: 8 字符
[2025-08-22 10:59:50,784] [INFO] ✅ TTS合成成功: 73324 字节
[2025-08-22 10:59:50,792] [INFO] ✅ TTS音频生成完成: 73324 字节
[2025-08-22 11:00:10,899] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:00:10,900] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:00:10,900] [INFO] 📊 处理音频数据: 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd, 26 块, 53248 字节
[2025-08-22 11:00:10,900] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:00:10,901] [INFO] 📤 发送ASR识别请求: 53248 字节
[2025-08-22 11:00:11,279] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:00:11,280] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:00:11,280] [INFO] ✅ ASR识别成功: 你现在能听到我说话吗？
[2025-08-22 11:00:11,281] [INFO] 🤖 处理LLM对话: 你现在能听到我说话吗？
[2025-08-22 11:00:11,281] [INFO] 🤖 处理用户问题: 你现在能听到我说话吗？...
[2025-08-22 11:00:11,596] [INFO] ✅ LLM回复生成成功: 是的，我现在能听到您说话。...
[2025-08-22 11:00:11,598] [INFO] 🔊 开始生成TTS音频: 是的，我现在能听到您说话。
[2025-08-22 11:00:11,598] [INFO] 🔊 开始TTS语音合成: 是的，我现在能听到您说话。...
[2025-08-22 11:00:11,598] [INFO] 📤 发送TTS合成请求: 13 字符
[2025-08-22 11:00:11,879] [INFO] ✅ TTS合成成功: 109164 字节
[2025-08-22 11:00:11,889] [INFO] ✅ TTS音频生成完成: 109164 字节
[2025-08-22 11:00:13,225] [INFO] 📝 收到文本消息: interrupt_tts
[2025-08-22 11:00:13,226] [INFO] 🛑 收到客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的TTS打断请求
[2025-08-22 11:00:13,226] [INFO] 🗑️ 已清空客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的音频缓冲区 (0 块)
[2025-08-22 11:00:13,226] [INFO] ✅ 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的TTS打断处理完成
[2025-08-22 11:00:14,354] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:00:14,355] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:00:14,355] [INFO] 📊 处理音频数据: 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd, 3 块, 6144 字节
[2025-08-22 11:00:14,355] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:00:14,355] [INFO] 📤 发送ASR识别请求: 6144 字节
[2025-08-22 11:00:14,572] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:00:14,572] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:00:14,572] [WARNING] ⚠️ ASR识别结果为空
[2025-08-22 11:00:14,677] [INFO] 📤 表单格式ASR请求完成，状态码: 200
[2025-08-22 11:00:14,677] [INFO] 📋 ASR响应解析完成: json read error.
[2025-08-22 11:00:14,677] [ERROR] ❌ ASR API返回错误: 错误码=3300, 错误信息=json read error.
[2025-08-22 11:00:14,678] [ERROR] ❌ 所有ASR请求格式都失败
[2025-08-22 11:00:14,678] [WARNING] ⚠️ 使用备用ASR方案
[2025-08-22 11:00:14,678] [INFO] ✅ 备用ASR完成: 我听到了您的声音，这是一个测试回复
[2025-08-22 11:00:14,679] [INFO] 🤖 处理LLM对话: 我听到了您的声音，这是一个测试回复
[2025-08-22 11:00:14,679] [INFO] 🤖 处理用户问题: 我听到了您的声音，这是一个测试回复...
[2025-08-22 11:00:15,165] [INFO] ✅ LLM回复生成成功: 测试成功，您已成功听到我的声音。需要帮助吗？...
[2025-08-22 11:00:15,167] [INFO] 🔊 开始生成TTS音频: 测试成功，您已成功听到我的声音。需要帮助吗？
[2025-08-22 11:00:15,167] [INFO] 🔊 开始TTS语音合成: 测试成功，您已成功听到我的声音。需要帮助吗？...
[2025-08-22 11:00:15,167] [INFO] 📤 发送TTS合成请求: 22 字符
[2025-08-22 11:00:15,573] [INFO] ✅ TTS合成成功: 179244 字节
[2025-08-22 11:00:15,588] [INFO] ✅ TTS音频生成完成: 179244 字节
[2025-08-22 11:00:24,210] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:00:24,211] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:00:24,211] [INFO] 📊 处理音频数据: 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd, 22 块, 45056 字节
[2025-08-22 11:00:24,211] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:00:24,212] [INFO] 📤 发送ASR识别请求: 45056 字节
[2025-08-22 11:00:24,562] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:00:24,562] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:00:24,562] [INFO] ✅ ASR识别成功: 你给我讲讲天气预报。
[2025-08-22 11:00:24,563] [INFO] 🤖 处理LLM对话: 你给我讲讲天气预报。
[2025-08-22 11:00:24,563] [INFO] 🤖 处理用户问题: 你给我讲讲天气预报。...
[2025-08-22 11:00:25,016] [INFO] ✅ LLM回复生成成功: 抱歉，我无法提供实时天气预报。请查看当地天气预报服务。...
[2025-08-22 11:00:25,017] [INFO] 🔊 开始生成TTS音频: 抱歉，我无法提供实时天气预报。请查看当地天气预报服务。
[2025-08-22 11:00:25,017] [INFO] 🔊 开始TTS语音合成: 抱歉，我无法提供实时天气预报。请查看当地天气预报服务。...
[2025-08-22 11:00:25,017] [INFO] 📤 发送TTS合成请求: 27 字符
[2025-08-22 11:00:25,276] [INFO] ✅ TTS合成成功: 229804 字节
[2025-08-22 11:00:25,285] [INFO] ✅ TTS音频生成完成: 229804 字节
[2025-08-22 11:00:27,240] [INFO] 📝 收到文本消息: interrupt_tts
[2025-08-22 11:00:27,241] [INFO] 🛑 收到客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的TTS打断请求
[2025-08-22 11:00:27,241] [INFO] 🗑️ 已清空客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的音频缓冲区 (0 块)
[2025-08-22 11:00:27,241] [INFO] ✅ 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的TTS打断处理完成
[2025-08-22 11:00:29,522] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:00:29,522] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:00:29,522] [INFO] 📊 处理音频数据: 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd, 21 块, 43008 字节
[2025-08-22 11:00:29,522] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:00:29,523] [INFO] 📤 发送ASR识别请求: 43008 字节
[2025-08-22 11:00:29,772] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:00:29,772] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:00:29,773] [INFO] ✅ ASR识别成功: 我可以打断你吗？
[2025-08-22 11:00:29,773] [INFO] 🤖 处理LLM对话: 我可以打断你吗？
[2025-08-22 11:00:29,774] [INFO] 🤖 处理用户问题: 我可以打断你吗？...
[2025-08-22 11:00:30,087] [INFO] ✅ LLM回复生成成功: 当然可以，请随时打断我。...
[2025-08-22 11:00:30,088] [INFO] 🔊 开始生成TTS音频: 当然可以，请随时打断我。
[2025-08-22 11:00:30,088] [INFO] 🔊 开始TTS语音合成: 当然可以，请随时打断我。...
[2025-08-22 11:00:30,089] [INFO] 📤 发送TTS合成请求: 12 字符
[2025-08-22 11:00:30,292] [INFO] ✅ TTS合成成功: 105964 字节
[2025-08-22 11:00:30,296] [INFO] ✅ TTS音频生成完成: 105964 字节
[2025-08-22 11:00:31,067] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 11:00:31,068] [INFO] 🛑 正在关闭服务器...
[2025-08-22 11:00:31,068] [INFO] ✅ 服务器已关闭
[2025-08-22 11:00:31,068] [INFO] 🧹 已清理客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的所有音频处理资源
[2025-08-22 11:00:31,068] [INFO] 🗑️ 已清除客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 的对话历史 (14 条)
[2025-08-22 11:00:31,069] [INFO] 🧹 客户端 5dc7e446-07a9-4092-b02a-5749305b2dcd 资源清理完成
[2025-08-22 11:00:31,069] [INFO] 🛑 服务器运行被取消
[2025-08-22 11:00:31,069] [INFO] ✅ 服务器运行完成
[2025-08-22 11:04:55,432] [INFO] ✅ 信号处理器设置完成
[2025-08-22 11:04:55,432] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 11:04:55,432] [INFO] 🔍 开始验证运行环境...
[2025-08-22 11:04:55,433] [INFO] ✅ 运行环境验证通过
[2025-08-22 11:04:55,433] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 11:04:55,433] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 11:04:55,446] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 11:04:55,446] [INFO] server listening on [::1]:8765
[2025-08-22 11:04:55,446] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 11:04:55,446] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 11:04:55,446] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 11:04:55,447] [INFO] 🔄 等待客户端连接...
[2025-08-22 11:05:03,292] [INFO] connection open
[2025-08-22 11:05:03,293] [INFO] 🔌 新客户端连接: f2160f36-6b4b-45f9-89b5-699bff80ca96
[2025-08-22 11:05:09,020] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:05:09,020] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:05:09,020] [INFO] 📊 处理音频数据: 客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96, 26 块, 53248 字节
[2025-08-22 11:05:09,023] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:05:09,023] [INFO] 🔑 正在获取百度ASR访问令牌...
[2025-08-22 11:05:09,391] [INFO] ✅ 已成功获取ASR访问令牌
[2025-08-22 11:05:09,392] [INFO] 📤 发送ASR识别请求: 53248 字节
[2025-08-22 11:05:10,378] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:05:10,378] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:05:10,378] [INFO] ✅ ASR识别成功: 你可以听到我说话吗？
[2025-08-22 11:05:10,379] [INFO] 🤖 处理LLM对话: 你可以听到我说话吗？
[2025-08-22 11:05:10,379] [INFO] 🤖 处理用户问题: 你可以听到我说话吗？...
[2025-08-22 11:05:11,044] [INFO] ✅ 回复生成成功: 是的，我正在听您说话。...
[2025-08-22 11:05:11,045] [INFO] 🔊 开始生成TTS音频: 是的，我正在听您说话。
[2025-08-22 11:05:11,045] [INFO] 🔊 开始TTS语音合成: 是的，我正在听您说话。...
[2025-08-22 11:05:11,045] [INFO] 🔑 正在获取百度TTS访问令牌...
[2025-08-22 11:05:11,135] [INFO] ✅ 已成功获取TTS访问令牌
[2025-08-22 11:05:11,135] [INFO] 📤 发送TTS合成请求: 11 字符
[2025-08-22 11:05:12,428] [INFO] ✅ TTS合成成功: 91884 字节
[2025-08-22 11:05:12,436] [INFO] ✅ TTS音频生成完成: 91884 字节
[2025-08-22 11:05:20,283] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:05:20,284] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:05:20,284] [INFO] 📊 处理音频数据: 客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96, 21 块, 43008 字节
[2025-08-22 11:05:20,284] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:05:20,285] [INFO] 📤 发送ASR识别请求: 43008 字节
[2025-08-22 11:05:20,554] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:05:20,554] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:05:20,554] [INFO] ✅ ASR识别成功: 你给我讲讲天气预报。
[2025-08-22 11:05:20,555] [INFO] 🤖 处理LLM对话: 你给我讲讲天气预报。
[2025-08-22 11:05:20,555] [INFO] 🤖 处理用户问题: 你给我讲讲天气预报。...
[2025-08-22 11:05:20,928] [INFO] ✅ 回复生成成功: 请告诉我您所在的城市或地区，我将为您提供天气预报。...
[2025-08-22 11:05:20,930] [INFO] 🔊 开始生成TTS音频: 请告诉我您所在的城市或地区，我将为您提供天气预报。
[2025-08-22 11:05:20,930] [INFO] 🔊 开始TTS语音合成: 请告诉我您所在的城市或地区，我将为您提供天气预报。...
[2025-08-22 11:05:20,930] [INFO] 📤 发送TTS合成请求: 25 字符
[2025-08-22 11:05:21,247] [INFO] ✅ TTS合成成功: 194924 字节
[2025-08-22 11:05:21,265] [INFO] ✅ TTS音频生成完成: 194924 字节
[2025-08-22 11:05:24,914] [INFO] 📝 收到文本消息: interrupt_tts
[2025-08-22 11:05:24,914] [INFO] 🛑 收到客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96 的TTS打断请求
[2025-08-22 11:05:24,914] [INFO] 🗑️ 已清空客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96 的音频缓冲区 (0 块)
[2025-08-22 11:05:24,915] [INFO] ✅ 客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96 的TTS打断处理完成
[2025-08-22 11:05:27,131] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:05:27,131] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:05:27,131] [INFO] 📊 处理音频数据: 客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96, 20 块, 40960 字节
[2025-08-22 11:05:27,132] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:05:27,132] [INFO] 📤 发送ASR识别请求: 40960 字节
[2025-08-22 11:05:27,430] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:05:27,431] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:05:27,431] [INFO] ✅ ASR识别成功: 我可以打断你吗？
[2025-08-22 11:05:27,432] [INFO] 🤖 处理LLM对话: 我可以打断你吗？
[2025-08-22 11:05:27,432] [INFO] 🤖 处理用户问题: 我可以打断你吗？...
[2025-08-22 11:05:27,734] [INFO] ✅ 回复生成成功: 当然可以，请说。...
[2025-08-22 11:05:27,735] [INFO] 🔊 开始生成TTS音频: 当然可以，请说。
[2025-08-22 11:05:27,736] [INFO] 🔊 开始TTS语音合成: 当然可以，请说。...
[2025-08-22 11:05:27,736] [INFO] 📤 发送TTS合成请求: 8 字符
[2025-08-22 11:05:27,913] [INFO] ✅ TTS合成成功: 73324 字节
[2025-08-22 11:05:27,921] [INFO] ✅ TTS音频生成完成: 73324 字节
[2025-08-22 11:05:29,393] [INFO] 📝 收到文本消息: interrupt_tts
[2025-08-22 11:05:29,394] [INFO] 🛑 收到客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96 的TTS打断请求
[2025-08-22 11:05:29,394] [INFO] 🗑️ 已清空客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96 的音频缓冲区 (0 块)
[2025-08-22 11:05:29,394] [INFO] ✅ 客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96 的TTS打断处理完成
[2025-08-22 11:05:30,397] [INFO] ⏳ 音频数据不足，继续等待...
[2025-08-22 11:05:31,398] [INFO] ⏳ 音频数据不足，继续等待...
[2025-08-22 11:05:32,400] [INFO] ⏳ 音频数据不足，继续等待...
[2025-08-22 11:05:33,402] [INFO] ⏳ 音频数据不足，继续等待...
[2025-08-22 11:05:35,643] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:05:35,643] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:05:35,644] [INFO] 📊 处理音频数据: 客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96, 21 块, 43008 字节
[2025-08-22 11:05:35,644] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:05:35,645] [INFO] 📤 发送ASR识别请求: 43008 字节
[2025-08-22 11:05:36,272] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:05:36,273] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:05:36,273] [INFO] ✅ ASR识别成功: 你姑姑家长估计也是。
[2025-08-22 11:05:36,274] [INFO] 🤖 处理LLM对话: 你姑姑家长估计也是。
[2025-08-22 11:05:36,274] [INFO] 🤖 处理用户问题: 你姑姑家长估计也是。...
[2025-08-22 11:05:36,653] [INFO] ✅ 回复生成成功: 了解，这句话表达了某种普遍性或推测。...
[2025-08-22 11:05:36,654] [INFO] 🔊 开始生成TTS音频: 了解，这句话表达了某种普遍性或推测。
[2025-08-22 11:05:36,655] [INFO] 🔊 开始TTS语音合成: 了解，这句话表达了某种普遍性或推测。...
[2025-08-22 11:05:36,655] [INFO] 📤 发送TTS合成请求: 18 字符
[2025-08-22 11:05:36,869] [INFO] ✅ TTS合成成功: 148844 字节
[2025-08-22 11:05:36,882] [INFO] ✅ TTS音频生成完成: 148844 字节
[2025-08-22 11:05:42,206] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 11:05:42,206] [INFO] 🛑 正在关闭服务器...
[2025-08-22 11:05:42,206] [INFO] ✅ 服务器已关闭
[2025-08-22 11:05:42,207] [INFO] 🧹 已清理客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96 的所有音频处理资源
[2025-08-22 11:05:42,207] [INFO] 🗑️ 已清除客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96 的对话历史 (8 条)
[2025-08-22 11:05:42,207] [INFO] 🧹 客户端 f2160f36-6b4b-45f9-89b5-699bff80ca96 资源清理完成
[2025-08-22 11:05:42,207] [INFO] 🛑 服务器运行被取消
[2025-08-22 11:05:42,208] [INFO] ✅ 服务器运行完成
[2025-08-22 11:12:46,847] [INFO] ✅ 信号处理器设置完成
[2025-08-22 11:12:46,847] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 11:12:46,847] [INFO] 🔍 开始验证运行环境...
[2025-08-22 11:12:46,848] [INFO] ✅ 运行环境验证通过
[2025-08-22 11:12:46,848] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 11:12:46,848] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 11:12:46,856] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 11:12:46,856] [INFO] server listening on [::1]:8765
[2025-08-22 11:12:46,856] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 11:12:46,856] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 11:12:46,856] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 11:12:46,856] [INFO] 🔄 等待客户端连接...
[2025-08-22 11:13:01,689] [INFO] connection open
[2025-08-22 11:13:01,690] [INFO] 🔌 新客户端连接: 12cee535-9bae-4d1d-8b17-04ed8d51556e
[2025-08-22 11:13:10,509] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:13:10,509] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:13:10,509] [INFO] 📊 处理音频数据: 客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e, 19 块, 38912 字节
[2025-08-22 11:13:10,513] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:13:10,513] [INFO] 🔑 正在获取百度ASR访问令牌...
[2025-08-22 11:13:10,579] [INFO] ✅ 已成功获取ASR访问令牌
[2025-08-22 11:13:10,579] [INFO] 📤 发送ASR识别请求: 38912 字节
[2025-08-22 11:13:10,865] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:13:10,866] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:13:10,866] [INFO] ✅ ASR识别成功: 你能听到我说话吗？
[2025-08-22 11:13:10,867] [INFO] 🤖 处理LLM对话: 你能听到我说话吗？
[2025-08-22 11:13:10,867] [INFO] 🤖 处理用户问题: 你能听到我说话吗？...
[2025-08-22 11:13:11,242] [INFO] ✅ 回复生成成功: 是的，我听到您说话了。...
[2025-08-22 11:13:11,243] [INFO] 🔊 开始生成TTS音频: 是的，我听到您说话了。
[2025-08-22 11:13:11,243] [INFO] 🔊 开始TTS语音合成: 是的，我听到您说话了。...
[2025-08-22 11:13:11,244] [INFO] 🔑 正在获取百度TTS访问令牌...
[2025-08-22 11:13:11,332] [INFO] ✅ 已成功获取TTS访问令牌
[2025-08-22 11:13:11,333] [INFO] 📤 发送TTS合成请求: 11 字符
[2025-08-22 11:13:11,581] [INFO] ✅ TTS合成成功: 92524 字节
[2025-08-22 11:13:11,589] [INFO] ✅ TTS音频生成完成: 92524 字节
[2025-08-22 11:13:16,716] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:13:16,717] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:13:16,717] [INFO] 📊 处理音频数据: 客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e, 21 块, 43008 字节
[2025-08-22 11:13:16,717] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:13:16,718] [INFO] 📤 发送ASR识别请求: 43008 字节
[2025-08-22 11:13:17,125] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:13:17,125] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:13:17,125] [INFO] ✅ ASR识别成功: 你如果这样的骗去过。
[2025-08-22 11:13:17,127] [INFO] 🤖 处理LLM对话: 你如果这样的骗去过。
[2025-08-22 11:13:17,127] [INFO] 🤖 处理用户问题: 你如果这样的骗去过。...
[2025-08-22 11:13:17,441] [INFO] ✅ 回复生成成功: 抱歉，我没有骗过任何人。...
[2025-08-22 11:13:17,442] [INFO] 🔊 开始生成TTS音频: 抱歉，我没有骗过任何人。
[2025-08-22 11:13:17,442] [INFO] 🔊 开始TTS语音合成: 抱歉，我没有骗过任何人。...
[2025-08-22 11:13:17,442] [INFO] 📤 发送TTS合成请求: 12 字符
[2025-08-22 11:13:17,644] [INFO] ✅ TTS合成成功: 99564 字节
[2025-08-22 11:13:17,653] [INFO] ✅ TTS音频生成完成: 99564 字节
[2025-08-22 11:13:23,500] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:13:23,500] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:13:23,501] [INFO] 📊 处理音频数据: 客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e, 27 块, 55296 字节
[2025-08-22 11:13:23,501] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:13:23,501] [INFO] 📤 发送ASR识别请求: 55296 字节
[2025-08-22 11:13:23,889] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:13:23,889] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:13:23,889] [INFO] ✅ ASR识别成功: 你给我讲讲天气预报。
[2025-08-22 11:13:23,890] [INFO] 🤖 处理LLM对话: 你给我讲讲天气预报。
[2025-08-22 11:13:23,890] [INFO] 🤖 处理用户问题: 你给我讲讲天气预报。...
[2025-08-22 11:13:24,248] [INFO] ✅ 回复生成成功: 请提供您所在的城市或地区，以便我给您准确的天气预报。...
[2025-08-22 11:13:24,250] [INFO] 🔊 开始生成TTS音频: 请提供您所在的城市或地区，以便我给您准确的天气预报。
[2025-08-22 11:13:24,250] [INFO] 🔊 开始TTS语音合成: 请提供您所在的城市或地区，以便我给您准确的天气预报。...
[2025-08-22 11:13:24,250] [INFO] 📤 发送TTS合成请求: 26 字符
[2025-08-22 11:13:24,525] [INFO] ✅ TTS合成成功: 201324 字节
[2025-08-22 11:13:24,542] [INFO] ✅ TTS音频生成完成: 201324 字节
[2025-08-22 11:13:33,611] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:13:33,611] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:13:33,612] [INFO] 📊 处理音频数据: 客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e, 33 块, 67584 字节
[2025-08-22 11:13:33,612] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:13:33,613] [INFO] 📤 发送ASR识别请求: 67584 字节
[2025-08-22 11:13:33,862] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:13:33,863] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:13:33,863] [INFO] ✅ ASR识别成功: 你给我讲讲国际学士。
[2025-08-22 11:13:33,864] [INFO] 🤖 处理LLM对话: 你给我讲讲国际学士。
[2025-08-22 11:13:33,864] [INFO] 🤖 处理用户问题: 你给我讲讲国际学士。...
[2025-08-22 11:13:34,365] [INFO] ✅ 回复生成成功: 国际学士项目通常指在全球多国认可的大学中提供，学生可跨国家学习，获得全球认可的学士学位。...
[2025-08-22 11:13:34,366] [INFO] 🔊 开始生成TTS音频: 国际学士项目通常指在全球多国认可的大学中提供，学生可跨国家学习，获得全球认可的学士学位。
[2025-08-22 11:13:34,367] [INFO] 🔊 开始TTS语音合成: 国际学士项目通常指在全球多国认可的大学中提供，学生可跨国家学习，获得全球认可的学士学位。...
[2025-08-22 11:13:34,367] [INFO] 📤 发送TTS合成请求: 44 字符
[2025-08-22 11:13:34,837] [INFO] ✅ TTS合成成功: 349804 字节
[2025-08-22 11:13:34,859] [INFO] ✅ TTS音频生成完成: 349804 字节
[2025-08-22 11:13:36,246] [INFO] 📝 收到文本消息: interrupt_tts
[2025-08-22 11:13:36,247] [INFO] 🛑 收到客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e 的TTS打断请求
[2025-08-22 11:13:36,247] [INFO] 🗑️ 已清空客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e 的音频缓冲区 (0 块)
[2025-08-22 11:13:36,247] [INFO] ✅ 客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e 的TTS打断处理完成
[2025-08-22 11:13:38,092] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:13:38,093] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:13:38,093] [INFO] 📊 处理音频数据: 客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e, 16 块, 32768 字节
[2025-08-22 11:13:38,093] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:13:38,093] [INFO] 📤 发送ASR识别请求: 32768 字节
[2025-08-22 11:13:38,423] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:13:38,424] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:13:38,424] [INFO] ✅ ASR识别成功: 我可以打断你吗？
[2025-08-22 11:13:38,425] [INFO] 🤖 处理LLM对话: 我可以打断你吗？
[2025-08-22 11:13:38,425] [INFO] 🤖 处理用户问题: 我可以打断你吗？...
[2025-08-22 11:13:38,737] [INFO] ✅ 回复生成成功: 当然可以，请说。...
[2025-08-22 11:13:38,739] [INFO] 🔊 开始生成TTS音频: 当然可以，请说。
[2025-08-22 11:13:38,739] [INFO] 🔊 开始TTS语音合成: 当然可以，请说。...
[2025-08-22 11:13:38,740] [INFO] 📤 发送TTS合成请求: 8 字符
[2025-08-22 11:13:38,949] [INFO] ✅ TTS合成成功: 73324 字节
[2025-08-22 11:13:38,956] [INFO] ✅ TTS音频生成完成: 73324 字节
[2025-08-22 11:13:42,123] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:13:42,124] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:13:42,124] [INFO] 📊 处理音频数据: 客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e, 5 块, 10240 字节
[2025-08-22 11:13:42,124] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:13:42,125] [INFO] 📤 发送ASR识别请求: 10240 字节
[2025-08-22 11:13:42,320] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:13:42,320] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:13:42,320] [INFO] ✅ ASR识别成功: 你好。
[2025-08-22 11:13:42,321] [INFO] 🤖 处理LLM对话: 你好。
[2025-08-22 11:13:42,322] [INFO] 🤖 处理用户问题: 你好。...
[2025-08-22 11:13:42,658] [INFO] ✅ 回复生成成功: 你好！有什么可以帮助你的吗？...
[2025-08-22 11:13:42,659] [INFO] 🔊 开始生成TTS音频: 你好！有什么可以帮助你的吗？
[2025-08-22 11:13:42,659] [INFO] 🔊 开始TTS语音合成: 你好！有什么可以帮助你的吗？...
[2025-08-22 11:13:42,659] [INFO] 📤 发送TTS合成请求: 14 字符
[2025-08-22 11:13:42,903] [INFO] ✅ TTS合成成功: 100844 字节
[2025-08-22 11:13:42,911] [INFO] ✅ TTS音频生成完成: 100844 字节
[2025-08-22 11:13:44,432] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 11:13:44,432] [INFO] 🛑 正在关闭服务器...
[2025-08-22 11:13:44,433] [INFO] ✅ 服务器已关闭
[2025-08-22 11:13:44,433] [INFO] 🧹 已清理客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e 的所有音频处理资源
[2025-08-22 11:13:44,433] [INFO] 🗑️ 已清除客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e 的对话历史 (12 条)
[2025-08-22 11:13:44,433] [INFO] 🧹 客户端 12cee535-9bae-4d1d-8b17-04ed8d51556e 资源清理完成
[2025-08-22 11:13:44,433] [INFO] 🛑 服务器运行被取消
[2025-08-22 11:13:44,433] [INFO] ✅ 服务器运行完成
[2025-08-22 11:15:30,250] [INFO] ✅ 信号处理器设置完成
[2025-08-22 11:15:30,250] [INFO] 🔧 服务器管理器初始化完成
[2025-08-22 11:15:30,250] [INFO] 🔍 开始验证运行环境...
[2025-08-22 11:15:30,251] [INFO] ✅ 运行环境验证通过
[2025-08-22 11:15:30,251] [INFO] 🚀 正在启动WebRTC语音助手服务器...
[2025-08-22 11:15:30,251] [INFO] 🚀 正在启动WebRTC服务器 localhost:8765
[2025-08-22 11:15:30,259] [INFO] server listening on [::1]:8765
[2025-08-22 11:15:30,259] [INFO] server listening on 127.0.0.1:8765
[2025-08-22 11:15:30,259] [INFO] ✅ WebRTC服务器启动成功！
[2025-08-22 11:15:30,259] [INFO] 📍 监听地址: localhost:8765
[2025-08-22 11:15:30,259] [INFO] 💡 客户端可通过 webrtc_client.html 连接
[2025-08-22 11:15:30,259] [INFO] 🔄 等待客户端连接...
[2025-08-22 11:15:39,503] [INFO] connection open
[2025-08-22 11:15:39,503] [INFO] 🔌 新客户端连接: ede1ea96-52f3-4b79-81f8-05e91ba547ee
[2025-08-22 11:15:45,603] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:15:45,604] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:15:45,604] [INFO] 📊 处理音频数据: 客户端 ede1ea96-52f3-4b79-81f8-05e91ba547ee, 21 块, 43008 字节
[2025-08-22 11:15:45,605] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:15:45,605] [INFO] 🔑 正在获取百度ASR访问令牌...
[2025-08-22 11:15:45,680] [INFO] ✅ 已成功获取ASR访问令牌
[2025-08-22 11:15:45,681] [INFO] 📤 发送ASR识别请求: 43008 字节
[2025-08-22 11:15:45,996] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:15:45,997] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:15:45,997] [INFO] ✅ ASR识别成功: 你能听到我说话吗？
[2025-08-22 11:15:45,998] [INFO] 🤖 处理LLM对话: 你能听到我说话吗？
[2025-08-22 11:15:45,998] [INFO] 🤖 处理用户问题: 你能听到我说话吗？...
[2025-08-22 11:15:46,294] [INFO] ✅ 回复生成成功: 是的，我正在接收你的语音。...
[2025-08-22 11:15:46,296] [INFO] 🔊 开始生成TTS音频: 是的，我正在接收你的语音。
[2025-08-22 11:15:46,296] [INFO] 🔊 开始TTS语音合成: 是的，我正在接收你的语音。...
[2025-08-22 11:15:46,296] [INFO] 🔑 正在获取百度TTS访问令牌...
[2025-08-22 11:15:46,348] [INFO] ✅ 已成功获取TTS访问令牌
[2025-08-22 11:15:46,348] [INFO] 📤 发送TTS合成请求: 13 字符
[2025-08-22 11:15:46,589] [INFO] ✅ TTS合成成功: 104044 字节
[2025-08-22 11:15:46,595] [INFO] ✅ TTS音频生成完成: 104044 字节
[2025-08-22 11:15:51,812] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:15:51,813] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:15:51,813] [INFO] 📊 处理音频数据: 客户端 ede1ea96-52f3-4b79-81f8-05e91ba547ee, 23 块, 47104 字节
[2025-08-22 11:15:51,814] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:15:51,814] [INFO] 📤 发送ASR识别请求: 47104 字节
[2025-08-22 11:15:52,150] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:15:52,151] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:15:52,151] [INFO] ✅ ASR识别成功: 你给我讲讲天气预报。
[2025-08-22 11:15:52,152] [INFO] 🤖 处理LLM对话: 你给我讲讲天气预报。
[2025-08-22 11:15:52,152] [INFO] 🤖 处理用户问题: 你给我讲讲天气预报。...
[2025-08-22 11:15:52,662] [INFO] ✅ 回复生成成功: 抱歉，我无法提供实时天气预报。请查看当地天气预报服务。...
[2025-08-22 11:15:52,664] [INFO] 🔊 开始生成TTS音频: 抱歉，我无法提供实时天气预报。请查看当地天气预报服务。
[2025-08-22 11:15:52,664] [INFO] 🔊 开始TTS语音合成: 抱歉，我无法提供实时天气预报。请查看当地天气预报服务。...
[2025-08-22 11:15:52,664] [INFO] 📤 发送TTS合成请求: 27 字符
[2025-08-22 11:15:52,977] [INFO] ✅ TTS合成成功: 229804 字节
[2025-08-22 11:15:52,994] [INFO] ✅ TTS音频生成完成: 229804 字节
[2025-08-22 11:15:54,383] [INFO] 📝 收到文本消息: interrupt_tts
[2025-08-22 11:15:54,383] [INFO] 🛑 收到客户端 ede1ea96-52f3-4b79-81f8-05e91ba547ee 的TTS打断请求
[2025-08-22 11:15:54,383] [INFO] 🗑️ 已清空客户端 ede1ea96-52f3-4b79-81f8-05e91ba547ee 的音频缓冲区 (0 块)
[2025-08-22 11:15:54,384] [INFO] ✅ 客户端 ede1ea96-52f3-4b79-81f8-05e91ba547ee 的TTS打断处理完成
[2025-08-22 11:15:55,267] [INFO] 🎤 语音输入结束，开始ASR处理
[2025-08-22 11:15:55,268] [INFO] 🎯 开始ASR语音识别
[2025-08-22 11:15:55,268] [INFO] 📊 处理音频数据: 客户端 ede1ea96-52f3-4b79-81f8-05e91ba547ee, 7 块, 14336 字节
[2025-08-22 11:15:55,268] [INFO] 🔍 开始语音识别处理
[2025-08-22 11:15:55,269] [INFO] 📤 发送ASR识别请求: 14336 字节
[2025-08-22 11:15:55,560] [INFO] 📤 JSON格式ASR请求完成，状态码: 200
[2025-08-22 11:15:55,560] [INFO] 📋 ASR响应解析完成: success.
[2025-08-22 11:15:55,560] [INFO] ✅ ASR识别成功: 你好。
[2025-08-22 11:15:55,561] [INFO] 🤖 处理LLM对话: 你好。
[2025-08-22 11:15:55,561] [INFO] 🤖 处理用户问题: 你好。...
[2025-08-22 11:15:55,872] [INFO] ✅ 回复生成成功: 你好！有什么可以帮助你的吗？...
[2025-08-22 11:15:55,873] [INFO] 🔊 开始生成TTS音频: 你好！有什么可以帮助你的吗？
[2025-08-22 11:15:55,873] [INFO] 🔊 开始TTS语音合成: 你好！有什么可以帮助你的吗？...
[2025-08-22 11:15:55,873] [INFO] 📤 发送TTS合成请求: 14 字符
[2025-08-22 11:15:56,057] [INFO] ✅ TTS合成成功: 100844 字节
[2025-08-22 11:15:56,066] [INFO] ✅ TTS音频生成完成: 100844 字节
[2025-08-22 11:15:58,650] [INFO] 🛑 收到信号: SIGINT
[2025-08-22 11:15:58,650] [INFO] 🛑 正在关闭服务器...
[2025-08-22 11:15:58,650] [INFO] ✅ 服务器已关闭
[2025-08-22 11:15:58,651] [INFO] 🧹 已清理客户端 ede1ea96-52f3-4b79-81f8-05e91ba547ee 的所有音频处理资源
[2025-08-22 11:15:58,651] [INFO] 🗑️ 已清除客户端 ede1ea96-52f3-4b79-81f8-05e91ba547ee 的对话历史 (6 条)
[2025-08-22 11:15:58,651] [INFO] 🧹 客户端 ede1ea96-52f3-4b79-81f8-05e91ba547ee 资源清理完成
[2025-08-22 11:15:58,651] [INFO] 🛑 服务器运行被取消
[2025-08-22 11:15:58,651] [INFO] ✅ 服务器运行完成
